{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport React from \"react\";\nimport AuthContent from \"../components/forms/AuthContent\";\nimport { createUser } from \"../utils/auth\";\nimport { useState, useContext } from \"react\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { AuthContext } from \"../store/auth-context\";\nimport LoadingOverlay from \"../components/ui/LoadingOverlay\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar Signup = function Signup() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isAuthentication = _useState2[0],\n      setAuthentication = _useState2[1];\n\n  var authCtx = useContext(AuthContext);\n\n  function signupHandler(_ref) {\n    var email, password, token;\n    return _regeneratorRuntime.async(function signupHandler$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            email = _ref.email, password = _ref.password;\n            setAuthentication(true);\n            _context.prev = 2;\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(createUser({\n              email: email,\n              password: password\n            }));\n\n          case 5:\n            token = _context.sent;\n            authCtx.authenticate(token);\n            _context.next = 13;\n            break;\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](2);\n            Alert.alert(\"Sign Up Failed\", _context.t0.response.data);\n            setAuthentication(false);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[2, 9]], Promise);\n  }\n\n  if (isAuthentication) {\n    return _jsx(LoadingOverlay, {\n      message: \"Creating User ...\"\n    });\n  }\n\n  return _jsx(AuthContent, {\n    onAuthenticate: signupHandler\n  });\n};\n\nexport default Signup;\nvar styles = StyleSheet.create({});","map":{"version":3,"names":["React","AuthContent","createUser","useState","useContext","AuthContext","LoadingOverlay","Signup","isAuthentication","setAuthentication","authCtx","signupHandler","email","password","token","authenticate","Alert","alert","response","data","styles","StyleSheet","create"],"sources":["C:/Users/musta/Desktop/New folder/Crowd-Funding-Application/screens/Signup.js"],"sourcesContent":["import { View, Text, StyleSheet } from \"react-native\";\r\nimport React from \"react\";\r\nimport AuthContent from \"../components/forms/AuthContent\";\r\nimport { createUser } from \"../utils/auth\";\r\nimport { useState, useContext } from \"react\";\r\nimport { Alert } from \"react-native\";\r\nimport { AuthContext } from \"../store/auth-context\";\r\nimport LoadingOverlay from \"../components/ui/LoadingOverlay\";\r\n\r\nconst Signup = () => {\r\n  const [isAuthentication, setAuthentication] = useState(false);\r\n  const authCtx = useContext(AuthContext);\r\n  async function signupHandler({ email, password }) {\r\n    setAuthentication(true);\r\n    try {\r\n      const token = await createUser({ email, password });\r\n      authCtx.authenticate(token);\r\n    } catch (error) {\r\n      Alert.alert(\"Sign Up Failed\", error.response.data);\r\n      setAuthentication(false);\r\n    }\r\n  }\r\n\r\n  if (isAuthentication) {\r\n    return <LoadingOverlay message=\"Creating User ...\" />;\r\n  }\r\n  return <AuthContent onAuthenticate={signupHandler} />;\r\n};\r\n\r\nexport default Signup;\r\n\r\nconst styles = StyleSheet.create({});\r\n"],"mappings":";;;;;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP;AACA,SAASC,UAAT;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,OAArC;;AAEA,SAASC,WAAT;AACA,OAAOC,cAAP;;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;EACnB,gBAA8CJ,QAAQ,CAAC,KAAD,CAAtD;EAAA;EAAA,IAAOK,gBAAP;EAAA,IAAyBC,iBAAzB;;EACA,IAAMC,OAAO,GAAGN,UAAU,CAACC,WAAD,CAA1B;;EACA,SAAeM,aAAf;IAAA;IAAA;MAAA;QAAA;UAAA;YAA+BC,KAA/B,QAA+BA,KAA/B,EAAsCC,QAAtC,QAAsCA,QAAtC;YACEJ,iBAAiB,CAAC,IAAD,CAAjB;YADF;YAAA;YAAA,iCAGwBP,UAAU,CAAC;cAAEU,KAAK,EAALA,KAAF;cAASC,QAAQ,EAARA;YAAT,CAAD,CAHlC;;UAAA;YAGUC,KAHV;YAIIJ,OAAO,CAACK,YAAR,CAAqBD,KAArB;YAJJ;YAAA;;UAAA;YAAA;YAAA;YAMIE,KAAK,CAACC,KAAN,CAAY,gBAAZ,EAA8B,YAAMC,QAAN,CAAeC,IAA7C;YACAV,iBAAiB,CAAC,KAAD,CAAjB;;UAPJ;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA;;EAWA,IAAID,gBAAJ,EAAsB;IACpB,OAAO,KAAC,cAAD;MAAgB,OAAO,EAAC;IAAxB,EAAP;EACD;;EACD,OAAO,KAAC,WAAD;IAAa,cAAc,EAAEG;EAA7B,EAAP;AACD,CAlBD;;AAoBA,eAAeJ,MAAf;AAEA,IAAMa,MAAM,GAAGC,UAAU,CAACC,MAAX,CAAkB,EAAlB,CAAf"},"metadata":{},"sourceType":"module"}